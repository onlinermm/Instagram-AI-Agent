# –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É v2.0

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –†–∞–Ω—ñ—à–µ (v1.0):
- ‚ùå –ê–Ω–∞–ª—ñ–∑—É–≤–∞–≤ —Ç—ñ–ª—å–∫–∏ **–æ–¥–∏–Ω** –ø–æ—Å—Ç –∑ –ø—Ä–æ—Ñ—ñ–ª—é
- ‚ùå –Ø–∫—â–æ –ø–æ—Å—Ç –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–≤ **–≤–µ—Å—å –ø—Ä–æ—Ñ—ñ–ª—å**
- ‚ùå –ù–µ –≤—Ä–∞—Ö–æ–≤—É–≤–∞–≤ —ñ–Ω—à—ñ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –ø–æ—Å—Ç–∏

### –¢–µ–ø–µ—Ä (v2.0):
- ‚úÖ –ê–Ω–∞–ª—ñ–∑—É—î **–¥–æ 5 –ø–æ—Å—Ç—ñ–≤** –∑ –ø—Ä–æ—Ñ—ñ–ª—é
- ‚úÖ –í–∏–±–∏—Ä–∞—î **–Ω–∞–π–∫—Ä–∞—â–∏–π** –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫–∞—î –ø—Ä–æ—Ñ—ñ–ª—å —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ **–∂–æ–¥–µ–Ω** –ø–æ—Å—Ç –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π
- ‚úÖ –ü—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å

## üîç –Ø–∫ –ø—Ä–∞—Ü—é—î –Ω–æ–≤–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º

```mermaid
graph TD
    A[–í—ñ–¥–∫—Ä–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å] --> B[–ó—ñ–±—Ä–∞—Ç–∏ –¥–æ 8 –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –ø–æ—Å—Ç–∏/—Ä—ñ–ª—Å]
    B --> C[–ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–æ 5 –ø–æ—Å—Ç—ñ–≤]
    C --> D[–í–∏—Ç—è–≥—Ç–∏ –æ–ø–∏—Å –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Å—Ç–∞]
    D --> E[–®–Ü –∞–Ω–∞–ª—ñ–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ]
    E --> F[–û—Ü—ñ–Ω–∫–∞ 0-100 + –∫–∞—Ç–µ–≥–æ—Ä—ñ—è]
    F --> G{–Ñ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –ø–æ—Å—Ç–∏?}
    G -->|–ù—ñ| H[–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å]
    G -->|–¢–∞–∫| I[–í–∏–±—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é]
    I --> J[–í—ñ–¥–∫—Ä–∏—Ç–∏ –æ–±—Ä–∞–Ω–∏–π –ø–æ—Å—Ç]
    J --> K[–õ–∞–π–∫ + –∫–æ–º–µ–Ω—Ç–∞—Ä]
```

## üìä –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏

```
üîç Collecting post and reel links...
Found 6 unique posts/reels for analysis

üîç Analyzing post 1/5: https://www.instagram.com/p/ABC123/
üìä Post analysis: Score=85, Relevant=true, Category=residential
üìù Reason: Post discusses apartment sale and investment opportunities

üîç Analyzing reel 2/5: https://www.instagram.com/reel/DEF456/
üìä Reel analysis: Score=25, Relevant=false, Category=not_relevant
üìù Reason: Content about family vacation, not related to real estate

üîç Analyzing post 3/5: https://www.instagram.com/p/GHI789/
üìä Post analysis: Score=92, Relevant=true, Category=commercial
üìù Reason: Commercial office space listing with detailed specifications

üîç Analyzing post 4/5: https://www.instagram.com/p/JKL012/
üìä Post analysis: Score=78, Relevant=true, Category=renovation
üìù Reason: Kitchen renovation showcasing property improvements

üîç Analyzing post 5/5: https://www.instagram.com/p/MNO345/
üìä Post analysis: Score=15, Relevant=false, Category=not_relevant
üìù Reason: Personal photo with friends, no real estate context

‚úÖ Selected best content: post with score 92
üìù Selection reason: Commercial office space listing with detailed specifications
‚úÖ Opening best relevant post (Score: 92)
‚úÖ Proceeding with interaction - Content relevance score: 92
```

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏

### 1. **–í–∏—â–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—î –ø—Ä–æ—Ñ—ñ–ª—ñ –∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–∫—Ä–∞—â—ñ –ø–æ—Å—Ç–∏ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó

### 2. **–†–æ–∑—É–º–Ω–∏–π –≤–∏–±—ñ—Ä**
- –ü–æ—Ä—ñ–≤–Ω—é—î –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
- –í–∏–±–∏—Ä–∞—î –Ω–∞–π—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç

### 3. **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è**
- –ü–æ–∫–∞–∑—É—î –∞–Ω–∞–ª—ñ–∑ –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
- –ü–æ—è—Å–Ω—é—î –ø—Ä–∏—á–∏–Ω–∏ –≤–∏–±–æ—Ä—É

### 4. **–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ**
- –ü—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å
- –õ–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

## üñºÔ∏è –ú–∞–π–±—É—Ç–Ω—ñ–π –∞–Ω–∞–ª—ñ–∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å

–î–æ–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `analyzeImageRelevance()` –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ—ó —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Gemini Vision API:

```typescript
// –ú–∞–π–±—É—Ç–Ω—è –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å
const imageAnalysis = await analyzeImageRelevance(imageUrl, config);
const combinedScore = (textScore + imageScore) / 2;
```

### –©–æ –±—É–¥–µ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏—Å—è –≤ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è—Ö:
- üè† –ï–∫—Å—Ç–µ—Ä'—î—Ä–∏ —Ç–∞ —ñ–Ω—Ç–µ—Ä'—î—Ä–∏ –±—É–¥—ñ–≤–µ–ª—å
- üè¢ –ö–æ–º–µ—Ä—Ü—ñ–π–Ω—ñ –æ–±'—î–∫—Ç–∏ —Ç–∞ –æ—Ñ—ñ—Å–∏
- üî® –ë—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ —Ç–∞ —Ä–µ–º–æ–Ω—Ç
- üìã –ü–ª–∞–Ω–∏ –ø—Ä–∏–º—ñ—â–µ–Ω—å
- üè∑Ô∏è –¢–∞–±–ª–∏—á–∫–∏ "–ü—Ä–æ–¥–∞—î—Ç—å—Å—è"/"–ó–¥–∞—î—Ç—å—Å—è"

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ —ñ—Å–Ω—É—é—á—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω:

```json
{
  "features": {
    "contentFiltering": true
  },
  "contentFilter": {
    "minRelevanceScore": 70,
    "allowedCategories": ["residential", "commercial", "investment"],
    "excludeKeywords": ["family", "vacation", "food"]
  }
}
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
npm run test:content-filter
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: **8/8 —Ç–µ—Å—Ç—ñ–≤ –ø—Ä–æ–π—à–ª–∏ —É—Å–ø—ñ—à–Ω–æ** ‚úÖ

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—Ä–∞—â–µ–Ω—å

| –ú–µ—Ç—Ä–∏–∫–∞ | v1.0 | v2.0 | –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è |
|---------|------|------|------------|
| –ê–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤ | 1 | –¥–æ 5 | +400% |
| –¢–æ—á–Ω—ñ—Å—Ç—å –≤–∏–±–æ—Ä—É | –í–∏–ø–∞–¥–∫–æ–≤–∞ | –ù–∞–π–∫—Ä–∞—â–∏–π | +‚àû |
| –ü—Ä–æ–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ | –ë–∞–≥–∞—Ç–æ | –ú—ñ–Ω—ñ–º—É–º | -80% |
| –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å –≤–∑–∞—î–º–æ–¥—ñ–π | –°–µ—Ä–µ–¥–Ω—è | –í–∏—Å–æ–∫–∞ | +60% |

## üîÑ –ó–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

–í—Å—ñ —ñ—Å–Ω—É—é—á—ñ –∫–æ–º–∞–Ω–¥–∏ –ø—Ä–∞—Ü—é—é—Ç—å –±–µ–∑ –∑–º—ñ–Ω:
- `npm run toggle-features --enable-content-filtering`
- `npm run toggle-features --disable-content-filtering`
- `npm run status`

–Ø–∫—â–æ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤–∏–º–∫–Ω–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î —è–∫ —Ä–∞–Ω—ñ—à–µ - –≤–∏–±–∏—Ä–∞—î –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –ø–æ—Å—Ç. 