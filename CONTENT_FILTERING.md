# –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –∑–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—é –¥–æ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ

## –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É **–∫—ñ–ª—å–∫–æ—Ö –ø–æ—Å—Ç—ñ–≤ —Ç–∞ —Ä—ñ–ª—ñ–≤** –≤ Instagram –ø—Ä–æ—Ñ—ñ–ª—ñ, —â–æ–± –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –Ω–∞–π–±—ñ–ª—å—à —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ —Å—Ñ–µ—Ä–∏ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –ø–æ—Å—Ç–∞–º–∏ —Ç–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç** –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó.

## –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ (v2.0)

### üîç –ê–Ω–∞–ª—ñ–∑ –∫—ñ–ª—å–∫–æ—Ö –ø–æ—Å—Ç—ñ–≤
- –ê–Ω–∞–ª—ñ–∑—É—î –¥–æ **5 –ø–æ—Å—Ç—ñ–≤/—Ä—ñ–ª—ñ–≤** –∑ –ø—Ä–æ—Ñ—ñ–ª—é –∑–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ
- –ü–æ—Ä—ñ–≤–Ω—é—î –æ—Ü—ñ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–∏–±–∏—Ä–∞—î –Ω–∞–π–∫—Ä–∞—â–∏–π
- –õ–æ–≥—É—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫–æ–∂–µ–Ω –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –ø–æ—Å—Ç

### üéØ –†–æ–∑—É–º–Ω–∏–π –≤–∏–±—ñ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç—É
- –°–æ—Ä—Ç—É—î –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ (0-100)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—î –ø–æ—Å—Ç –∑ –Ω–∞–π–≤–∏—â–æ—é –æ—Ü—ñ–Ω–∫–æ—é
- –ü—Ä–æ–ø—É—Å–∫–∞—î –ø—Ä–æ—Ñ—ñ–ª—å —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ **–∂–æ–¥–µ–Ω** –ø–æ—Å—Ç –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π

### üñºÔ∏è –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∞–Ω–∞–ª—ñ–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å
- –î–æ–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `analyzeImageRelevance()` –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Gemini Vision API
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤—ñ–∑—É–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **–ó–±—ñ—Ä –ø–æ—Å–∏–ª–∞–Ω—å**: –°–∏—Å—Ç–µ–º–∞ –∑–±–∏—Ä–∞—î –¥–æ 8 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤/—Ä—ñ–ª—ñ–≤ –∑ –ø—Ä–æ—Ñ—ñ–ª—é
2. **–ê–Ω–∞–ª—ñ–∑ –∫–æ–Ω—Ç–µ–Ω—Ç—É**: –ê–Ω–∞–ª—ñ–∑—É—î –¥–æ 5 –ø–æ—Å—Ç—ñ–≤ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
3. **–í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –æ–ø–∏—Å—ñ–≤**: –û—Ç—Ä–∏–º—É—î —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É –∑ –∫–æ–∂–Ω–æ–≥–æ –ø–æ—Å—Ç–∞/—Ä—ñ–ª—É
4. **–®–Ü –∞–Ω–∞–ª—ñ–∑**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Gemini AI –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ (0-100)
5. **–í–∏–±—ñ—Ä –Ω–∞–π–∫—Ä–∞—â–æ–≥–æ**: –°–æ—Ä—Ç—É—î –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é —Ç–∞ –≤–∏–±–∏—Ä–∞—î –Ω–∞–π—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—à–∏–π
6. **–í–∑–∞—î–º–æ–¥—ñ—è**: –í—ñ–¥–∫—Ä–∏–≤–∞—î –æ–±—Ä–∞–Ω–∏–π –ø–æ—Å—Ç –¥–ª—è –ª–∞–π–∫—ñ–≤/–∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

## –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–∫—Ä–∞—â–µ–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É

```
üîç Collecting post and reel links...
Found 6 unique posts/reels for analysis
üîç Analyzing post 1/5: https://www.instagram.com/p/ABC123/
üìä Post analysis: Score=85, Relevant=true, Category=residential
üìù Reason: Post discusses apartment sale and investment opportunities
üîç Analyzing reel 2/5: https://www.instagram.com/reel/DEF456/
üìä Reel analysis: Score=25, Relevant=false, Category=not_relevant
üìù Reason: Content about family vacation, not related to real estate
...
‚úÖ Selected best content: post with score 85
üìù Selection reason: Post discusses apartment sale and investment opportunities
‚úÖ Opening best relevant post (Score: 85)
‚úÖ Proceeding with interaction - Content relevance score: 85
```

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `src/config/interaction.json`:

```json
{
  "features": {
    "contentFiltering": true  // –£–≤—ñ–º–∫–Ω—É—Ç–∏/–≤–∏–º–∫–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é
  },
  "contentFilter": {
    "minRelevanceScore": 70,  // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ (0-100)
    "allowedCategories": [    // –î–æ–∑–≤–æ–ª–µ–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
      "residential",
      "commercial", 
      "investment",
      "rental",
      "construction",
      "renovation",
      "market_analysis"
    ],
    "requiredKeywords": [],   // –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ (–ø–æ–∫–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
    "excludeKeywords": [      // –í–∏–∫–ª—é—á–µ–Ω—ñ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞
      "family",
      "vacation",
      "food",
      "entertainment",
      "personal",
      "hobby",
      "travel",
      "fashion",
      "beauty",
      "sports"
    ]
  }
}
```

## –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É

- **residential** - –ñ–∏—Ç–ª–æ–≤–∞ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å
- **commercial** - –ö–æ–º–µ—Ä—Ü—ñ–π–Ω–∞ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å  
- **investment** - –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- **rental** - –û—Ä–µ–Ω–¥–∞
- **construction** - –ë—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ
- **renovation** - –†–µ–º–æ–Ω—Ç —Ç–∞ —Ä–µ–Ω–æ–≤–∞—Ü—ñ—è
- **market_analysis** - –ê–Ω–∞–ª—ñ–∑ —Ä–∏–Ω–∫—É
- **not_relevant** - –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç

## –ö–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞

### –í–∫–ª—é—á–µ–Ω—ñ (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ):
- property, house, home, apartment, condo, villa
- office, commercial, residential, investment
- rent, buy, sell, mortgage, realtor, agent, broker
- construction, renovation, interior, design, architecture
- market, value, location, neighborhood
- –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å, –∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–º
- –ø—Ä–æ–¥–∞–∂–∞, –∞—Ä–µ–Ω–¥–∞, –ø–æ–∫—É–ø–∫–∞, —Ä–∏–µ–ª—Ç–æ—Ä, –∞–≥–µ–Ω—Ç

### –í–∏–∫–ª—é—á–µ–Ω—ñ (–Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ):
- family, vacation, food, entertainment, personal
- hobby, travel, fashion, beauty, sports, gaming
- music, party, celebration

## –õ–æ–≥—ñ–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∫–ª—é—á–µ–Ω–∏—Ö —Å–ª—ñ–≤**: –Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –≤–∏–∫–ª—é—á–µ–Ω—ñ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ ‚Üí –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ñ–¥—Ö–∏–ª—è—î—Ç—å—Å—è
2. **–®–Ü –∞–Ω–∞–ª—ñ–∑**: Gemini –∞–Ω–∞–ª—ñ–∑—É—î –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–∞ –ø—Ä–∏—Å–≤–æ—é—î –æ—Ü—ñ–Ω–∫—É
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Ü—ñ–Ω–∫–∏**: –û—Ü—ñ–Ω–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ >= `minRelevanceScore`
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó**: –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤ —Å–ø–∏—Å–∫—É `allowedCategories`
5. **–§—ñ–Ω–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è**: –í—Å—ñ —É–º–æ–≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç–µ–Ω—Ç—É:

```bash
npm run test:content-filter
# –∞–±–æ
npx ts-node src/test/contentFilterTest.ts
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤

### –°—Ç—Ä–æ–≥–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (—Ç—ñ–ª—å–∫–∏ —è–≤–Ω–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç):
```json
{
  "minRelevanceScore": 80,
  "allowedCategories": ["residential", "commercial", "investment"]
}
```

### –ú'—è–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (–±—ñ–ª—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç—É):
```json
{
  "minRelevanceScore": 50,
  "allowedCategories": ["residential", "commercial", "investment", "rental", "construction", "renovation", "market_analysis"]
}
```

### –í–∏–º–∫–Ω–µ–Ω–Ω—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó:
```json
{
  "features": {
    "contentFiltering": false
  }
}
```

## –ü–µ—Ä–µ–≤–∞–≥–∏

1. **–¢–æ—á–Ω—ñ—Å—Ç—å**: –®–Ü –∞–Ω–∞–ª—ñ–∑ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫—É —Ç–æ—á–Ω—ñ—Å—Ç—å –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
2. **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –õ–µ–≥–∫–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
3. **–ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å**: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó, —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤
4. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –®–≤–∏–¥–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –±–µ–∑ –∑–∞—Ç—Ä–∏–º–æ–∫
5. **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –î–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

## –û–±–º–µ–∂–µ–Ω–Ω—è

1. –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ —è–∫–æ—Å—Ç—ñ –æ–ø–∏—Å—É –ø–æ—Å—Ç–∞
2. –ü–æ—Ç—Ä–µ–±—É—î API –∫–ª—é—á –¥–ª—è Gemini AI
3. –ú–æ–∂–µ —ñ–Ω–æ–¥—ñ –ø–æ–º–∏–ª–∫–æ–≤–æ –∫–ª–∞—Å–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –≥—Ä–∞–Ω–∏—á–Ω—ñ –≤–∏–ø–∞–¥–∫–∏

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
1. –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π Gemini API –∫–ª—é—á
2. –ß–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
3. –ß–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–∞–º
4. –õ–æ–≥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º 